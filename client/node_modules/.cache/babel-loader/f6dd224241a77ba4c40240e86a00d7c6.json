{"ast":null,"code":"import _regeneratorRuntime from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/satdey/Documents/peachykeen/peachykeen/client/src/components/Admin.js\";\nimport React, { Component } from 'react';\nimport LoaderButton from \"./LoaderButton\";\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin(props) {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this, props));\n    _this.state = {\n      isLoggedOn: true,\n      userid: '',\n      password: '',\n      isSuccess: false,\n      isLoading: false,\n      selectedRestaurant: '',\n      data: '',\n      restNames: []\n    };\n    _this.getDataFromDb =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body, names, _response, _body;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              if (!(_this.selectedRestaurant === null || _this.selectedRestaurant === \"All\")) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 4;\n              return fetch('/restaurants');\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              body = _context.sent;\n\n              _this.setState({\n                data: body\n              });\n\n              names = Array.from(body.Name);\n              names.push(\"All\");\n\n              _this.setState({\n                restNames: names\n              });\n\n              _context.next = 21;\n              break;\n\n            case 14:\n              _context.next = 16;\n              return fetch('/restaurantName/' + _this.state.selectedRestaurant);\n\n            case 16:\n              _response = _context.sent;\n              _context.next = 19;\n              return _response.json();\n\n            case 19:\n              _body = _context.sent;\n\n              _this.setState({\n                data: _body\n              });\n\n            case 21:\n              _this.setState({\n                isLoading: false\n              });\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.handleLogin = function (e) {\n      e.preventDefault();\n\n      if (_this.state.userid === \"admin\" && _this.state.password === \"password\") {\n        _this.setState({\n          isLoggedOn: true,\n          message: \"Login successful! Redirecting now!\",\n          isSuccess: true,\n          color: 'success'\n        });\n\n        _this.getDataFromDb();\n      } else {\n        _this.setState({\n          message: \"Incorrect user name or password\",\n          isSuccess: false,\n          color: 'danger'\n        });\n      }\n    };\n\n    _this.getDataFromDb();\n\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var Login = React.createElement(\"div\", {\n        id: \"admin-login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 container align-self-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Admin Portal\")), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"warningmessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" \", this.state.message, \" \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-user-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"id\",\n        type: \"text\",\n        placeholder: \"User ID\",\n        value: this.state.email,\n        autoComplete: \"username\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            userid: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        autoComplete: \"current-password\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            password: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }))));\n      var LoadButton = React.createElement(LoaderButton, {\n        block: true,\n        bsSize: \"large\",\n        type: \"submit\",\n        isLoading: this.state.isLoading,\n        text: \"Login\",\n        loadingText: \"Data Loading\",\n        id: \"DataLoad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n      var ReservationTable = \"\";\n      var Reservations = React.createElement(\"section\", {\n        className: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.isLoading ? LoadButton : \"\"));\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.state.isLoggedOn ? Reservations : Login);\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/Users/satdey/Documents/peachykeen/peachykeen/client/src/components/Admin.js"],"names":["React","Component","LoaderButton","Admin","props","state","isLoggedOn","userid","password","isSuccess","isLoading","selectedRestaurant","data","restNames","getDataFromDb","setState","fetch","response","json","body","names","Array","from","Name","push","handleLogin","e","preventDefault","message","color","Login","email","target","value","LoadButton","ReservationTable","Reservations"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;IAEMC,K;;;;;AAYJ,iBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,+EAAMA,KAAN;AADgB,UAXlBC,KAWkB,GAXV;AACNC,MAAAA,UAAU,EAAE,IADN;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,SAAS,EAAE,KAJL;AAKNC,MAAAA,SAAS,EAAE,KALL;AAMNC,MAAAA,kBAAkB,EAAE,EANd;AAONC,MAAAA,IAAI,EAAE,EAPA;AAQNC,MAAAA,SAAS,EAAE;AARL,KAWU;AAAA,UAKlBC,aALkB;AAAA;AAAA;AAAA;AAAA,6BAKF;AAAA;;AAAA;AAAA;AAAA;AAAA;AACd,oBAAKC,QAAL,CAAc;AAAEL,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AADc,oBAEV,MAAKC,kBAAL,KAA4B,IAA5B,IAAoC,MAAKA,kBAAL,KAA4B,KAFtD;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGWK,KAAK,CAAC,cAAD,CAHhB;;AAAA;AAGNC,cAAAA,QAHM;AAAA;AAAA,qBAIOA,QAAQ,CAACC,IAAT,EAJP;;AAAA;AAINC,cAAAA,IAJM;;AAKZ,oBAAKJ,QAAL,CAAc;AAACH,gBAAAA,IAAI,EAAEO;AAAP,eAAd;;AACIC,cAAAA,KANQ,GAMAC,KAAK,CAACC,IAAN,CAAWH,IAAI,CAACI,IAAhB,CANA;AAOZH,cAAAA,KAAK,CAACI,IAAN,CAAW,KAAX;;AACA,oBAAKT,QAAL,CAAc;AAACF,gBAAAA,SAAS,EAAEO;AAAZ,eAAd;;AARY;AAAA;;AAAA;AAAA;AAAA,qBAWWJ,KAAK,CAAC,qBAAoB,MAAKX,KAAL,CAAWM,kBAAhC,CAXhB;;AAAA;AAWNM,cAAAA,SAXM;AAAA;AAAA,qBAYOA,SAAQ,CAACC,IAAT,EAZP;;AAAA;AAYNC,cAAAA,KAZM;;AAaZ,oBAAKJ,QAAL,CAAc;AAACH,gBAAAA,IAAI,EAAEO;AAAP,eAAd;;AAbY;AAed,oBAAKJ,QAAL,CAAc;AAAEL,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAfc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALE;;AAAA,UAuBlBe,WAvBkB,GAuBJ,UAACC,CAAD,EAAM;AAClBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAI,MAAKtB,KAAL,CAAWE,MAAX,KAAsB,OAAtB,IAAiC,MAAKF,KAAL,CAAWG,QAAX,KAAwB,UAA7D,EAAwE;AACtE,cAAKO,QAAL,CAAc;AAAET,UAAAA,UAAU,EAAC,IAAb;AACEsB,UAAAA,OAAO,EAAE,oCADX;AAEEnB,UAAAA,SAAS,EAAE,IAFb;AAGEoB,UAAAA,KAAK,EAAE;AAHT,SAAd;;AAKA,cAAKf,aAAL;AACD,OAPD,MAQI;AACF,cAAKC,QAAL,CAAc;AACEa,UAAAA,OAAO,EAAE,iCADX;AAEEnB,UAAAA,SAAS,EAAE,KAFb;AAGEoB,UAAAA,KAAK,EAAE;AAHT,SAAd;AAKD;AACF,KAxCiB;;AAEhB,UAAKf,aAAL;;AAFgB;AAGjB;;;;6BAsCQ;AAAA;;AACP,UAAIgB,KAAK,GAAG;AAAK,QAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACZ;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAM,QAAA,QAAQ,EAAE,KAAKL,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,CADA,EAIA;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAM,QAAA,EAAE,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA4B,KAAKpB,KAAL,CAAWuB,OAAvC,MADA,CAJA,EAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPA,EAQA;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,GAAG,EAAC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgB;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB,CADA,EAEA;AAAO,QAAA,IAAI,EAAG,IAAd;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,WAAW,EAAC,SAA3C;AAAqD,QAAA,KAAK,EAAE,KAAKvB,KAAL,CAAW0B,KAAvE;AAA8E,QAAA,YAAY,EAAC,UAA3F;AACA,QAAA,QAAQ,EAAE,kBAAAL,CAAC;AAAA,iBAAI,MAAI,CAACX,QAAL,CAAc;AAAER,YAAAA,MAAM,EAAEmB,CAAC,CAACM,MAAF,CAASC;AAAnB,WAAd,CAAJ;AAAA,SADX;AAC0D,QAAA,QAAQ,MADlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,CADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANA,CARA,EAgBA;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsB;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAtB,CADA,EAEA;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,UAA5B;AAAuC,QAAA,WAAW,EAAC,UAAnD;AAA8D,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWG,QAAhF;AAA0F,QAAA,YAAY,EAAC,kBAAvG;AACA,QAAA,QAAQ,EAAE,kBAAAkB,CAAC;AAAA,iBAAI,MAAI,CAACX,QAAL,CAAc;AAAEP,YAAAA,QAAQ,EAAEkB,CAAC,CAACM,MAAF,CAASC;AAArB,WAAd,CAAJ;AAAA,SADX;AAC4D,QAAA,QAAQ,MADpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,CADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANA,CAhBA,EAwBA;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CAxBA,EA2BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3BA,CADA,CADY,CAAZ;AAkCA,UAAIC,UAAU,GAAG,oBAAC,YAAD;AACjB,QAAA,KAAK,MADY;AAEjB,QAAA,MAAM,EAAC,OAFU;AAGjB,QAAA,IAAI,EAAC,QAHY;AAIjB,QAAA,SAAS,EAAE,KAAK7B,KAAL,CAAWK,SAJL;AAKjB,QAAA,IAAI,EAAC,OALY;AAMjB,QAAA,WAAW,EAAC,cANK;AAOjB,QAAA,EAAE,EAAG,UAPY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAjB;AAUA,UAAIyB,gBAAgB,GAAG,EAAvB;AAEA,UAAIC,YAAY,GAAG;AAAS,QAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACnB;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAK/B,KAAL,CAAWK,SAAX,GAAuBwB,UAAvB,GAAoC,EADrC,CADmB,CAAnB;AAMA,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAK7B,KAAL,CAAWC,UAAX,GAAwB8B,YAAxB,GAAuCN,KADzC,CADF;AAMD;;;;EAhHiB7B,S;;AAmHpB,eAAeE,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport LoaderButton from \"./LoaderButton\";\n\nclass Admin extends Component {\n  state = {\n    isLoggedOn: true,\n    userid: '',\n    password: '',\n    isSuccess: false,\n    isLoading: false,\n    selectedRestaurant: '',\n    data: '',\n    restNames: []\n  }\n\n  constructor(props){\n    super(props);\n    this.getDataFromDb();\n  }\n\n  getDataFromDb = async () => {\n    this.setState({ isLoading: true });\n    if (this.selectedRestaurant === null || this.selectedRestaurant === \"All\"){\n      const response = await fetch('/restaurants');\n      const body = await response.json();\n      this.setState({data: body});\n      var names = Array.from(body.Name);\n      names.push(\"All\");\n      this.setState({restNames: names});\n    }\n    else{\n      const response = await fetch('/restaurantName/'+ this.state.selectedRestaurant);\n      const body = await response.json();\n      this.setState({data: body});\n    }\n    this.setState({ isLoading: false });\n  };\n\n  handleLogin = (e) =>{\n    e.preventDefault();\n    if (this.state.userid === \"admin\" && this.state.password === \"password\"){\n      this.setState({ isLoggedOn:true,\n                      message: \"Login successful! Redirecting now!\",\n                      isSuccess: true,\n                      color: 'success'\n      });\n      this.getDataFromDb();\n    }\n    else{\n      this.setState({\n                      message: \"Incorrect user name or password\",\n                      isSuccess: false,\n                      color: 'danger'\n      });\n    }\n  }\n  render() {\n    var Login = <div id=\"admin-login\">\n    <div className=\"col-3 container align-self-center\">\n    <form onSubmit={this.handleLogin}>\n    <div className=\"row justify-content-center\">\n    <h5>Admin Portal</h5>\n    </div>\n    <div className=\"row justify-content-center\">\n    <span id=\"warningmessage\"> {this.state.message} </span>\n    </div>\n    <br/>\n    <div className=\"row justify-content-center\">\n    <div className=\"form-group\">\n    <label for=\"id\"><i className=\"fas fa-user-alt\"></i></label>\n    <input name = \"id\" type=\"text\" placeholder=\"User ID\" value={this.state.email} autoComplete=\"username\"\n    onChange={e => this.setState({ userid: e.target.value })} required/>\n    </div>\n    <br/>\n    </div>\n    <div className=\"row justify-content-center\">\n    <div className=\"form-group\">\n    <label for=\"password\"><i className=\"fas fa-key\"></i></label>\n    <input name=\"password\" type=\"password\" placeholder=\"Password\" value={this.state.password} autoComplete=\"current-password\"\n    onChange={e => this.setState({ password: e.target.value })} required/>\n    </div>\n    <br/>\n    </div>\n    <div className=\"row justify-content-center\">\n    <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n    </div>\n    <br/>\n    </form>\n    </div>\n    </div>\n\n    var LoadButton = <LoaderButton\n    block\n    bsSize=\"large\"\n    type=\"submit\"\n    isLoading={this.state.isLoading}\n    text=\"Login\"\n    loadingText=\"Data Loading\"\n    id = \"DataLoad\"\n    />\n\n    var ReservationTable = \"\"\n\n    var Reservations = <section className=\"profile\">\n    <div className=\"container\">\n    {this.state.isLoading ? LoadButton : \"\"}\n    </div>\n    </section>\n\n    return (\n      <div className=\"App\">\n      { this.state.isLoggedOn ? Reservations : Login }\n      </div>\n\n    );\n  }\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}