{"ast":null,"code":"import _regeneratorRuntime from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/satdey/Documents/peachykeen/peachykeen/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/satdey/Documents/peachykeen/peachykeen/client/src/components/Admin.js\";\nimport React, { Component } from 'react';\nimport LoaderButton from \"./LoaderButton\";\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin(props) {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this, props));\n    _this.state = {\n      isLoggedOn: true,\n      userid: '',\n      password: '',\n      isSuccess: false,\n      isLoading: false,\n      selectedRestaurant: '',\n      data: ''\n    };\n    _this.getDataFromDb =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 3;\n              return fetch('/restaurants');\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              body = _context.sent;\n\n              _this.setState({\n                data: body\n              });\n\n              _this.setState({\n                isLoading: false\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.handleLogin = function (e) {\n      e.preventDefault();\n\n      if (_this.state.userid === \"admin\" && _this.state.password === \"password\") {\n        _this.setState({\n          isLoggedOn: true,\n          message: \"Login successful! Redirecting now!\",\n          isSuccess: true,\n          color: 'success'\n        });\n\n        _this.getDataFromDb();\n      } else {\n        _this.setState({\n          message: \"Incorrect user name or password\",\n          isSuccess: false,\n          color: 'danger'\n        });\n      }\n    };\n\n    _this.getDataFromDb();\n\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var Login = React.createElement(\"div\", {\n        id: \"admin-login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 container align-self-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Admin Portal\")), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"warningmessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" \", this.state.message, \" \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-user-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"id\",\n        type: \"text\",\n        placeholder: \"User ID\",\n        value: this.state.email,\n        autoComplete: \"username\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            userid: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        autoComplete: \"current-password\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            password: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))));\n      var LoadButton = React.createElement(LoaderButton, {\n        block: true,\n        bsSize: \"large\",\n        type: \"submit\",\n        isLoading: this.state.isLoading,\n        text: \"Login\",\n        loadingText: \"Data Loading\",\n        id: \"DataLoad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      });\n      var RestDropDown = React.createElement(\"select\", {\n        className: \"form-control\",\n        value: this.state.selectedRestaurant,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"All Restaurants\"), this.state.data ? this.state.data.map(function (restaurant) {\n        return React.createElement(\"option\", {\n          value: restaurant.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, restaurant.Name);\n      }) : \"\");\n      var ReservationTable = React.createElement(\"table\", {\n        className: \"table table-striped table-dark\",\n        id: \"reserveTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"First\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Last\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Handle\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Mark\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Otto\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"@mdo\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Jacob\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Thornton\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"@fat\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Larry\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"the Bird\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"@twitter\"))));\n      var Page = React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, RestDropDown), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"form-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Reservation Table\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, ReservationTable));\n      var AdminDetails = React.createElement(\"section\", {\n        id: \"admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-details\",\n        id: \"admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"form-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Admin Portal\")), this.state.isLoading ? LoadButton : Page));\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, this.state.isLoggedOn ? AdminDetails : Login);\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/Users/satdey/Documents/peachykeen/peachykeen/client/src/components/Admin.js"],"names":["React","Component","LoaderButton","Admin","props","state","isLoggedOn","userid","password","isSuccess","isLoading","selectedRestaurant","data","getDataFromDb","setState","fetch","response","json","body","handleLogin","e","preventDefault","message","color","Login","email","target","value","LoadButton","RestDropDown","handleChange","map","restaurant","id","Name","ReservationTable","Page","AdminDetails"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport LoaderButton from \"./LoaderButton\";\n\nclass Admin extends Component {\n  state = {\n    isLoggedOn: true,\n    userid: '',\n    password: '',\n    isSuccess: false,\n    isLoading: false,\n    selectedRestaurant: '',\n    data: ''\n  }\n\n  constructor(props){\n    super(props);\n    this.getDataFromDb();\n  }\n\n  getDataFromDb = async () => {\n    this.setState({ isLoading: true });\n    const response = await fetch('/restaurants');\n    const body = await response.json();\n    this.setState({data: body});\n    this.setState({ isLoading: false });\n  };\n\n  handleLogin = (e) =>{\n    e.preventDefault();\n    if (this.state.userid === \"admin\" && this.state.password === \"password\"){\n      this.setState({ isLoggedOn:true,\n                      message: \"Login successful! Redirecting now!\",\n                      isSuccess: true,\n                      color: 'success'\n      });\n      this.getDataFromDb();\n    }\n    else{\n      this.setState({\n                      message: \"Incorrect user name or password\",\n                      isSuccess: false,\n                      color: 'danger'\n      });\n    }\n  }\n  render() {\n    var Login = <div id=\"admin-login\">\n    <div className=\"col-3 container align-self-center\">\n    <form onSubmit={this.handleLogin}>\n    <div className=\"row justify-content-center\">\n    <h5>Admin Portal</h5>\n    </div>\n    <div className=\"row justify-content-center\">\n    <span id=\"warningmessage\"> {this.state.message} </span>\n    </div>\n    <br/>\n    <div className=\"row justify-content-center\">\n    <div className=\"form-group\">\n    <label for=\"id\"><i className=\"fas fa-user-alt\"></i></label>\n    <input name = \"id\" type=\"text\" placeholder=\"User ID\" value={this.state.email} autoComplete=\"username\"\n    onChange={e => this.setState({ userid: e.target.value })} required/>\n    </div>\n    <br/>\n    </div>\n    <div className=\"row justify-content-center\">\n    <div className=\"form-group\">\n    <label for=\"password\"><i className=\"fas fa-key\"></i></label>\n    <input name=\"password\" type=\"password\" placeholder=\"Password\" value={this.state.password} autoComplete=\"current-password\"\n    onChange={e => this.setState({ password: e.target.value })} required/>\n    </div>\n    <br/>\n    </div>\n    <div className=\"row justify-content-center\">\n    <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n    </div>\n    <br/>\n    </form>\n    </div>\n    </div>\n\n    var LoadButton = <LoaderButton\n    block\n    bsSize=\"large\"\n    type=\"submit\"\n    isLoading={this.state.isLoading}\n    text=\"Login\"\n    loadingText=\"Data Loading\"\n    id = \"DataLoad\"\n    />\n    var RestDropDown = <select className = \"form-control\" value={this.state.selectedRestaurant} onChange={this.handleChange}>\n        <option value=\"-1\">All Restaurants</option>\n    {\n      this.state.data ? this.state.data.map((restaurant) => {\n         return <option value={restaurant.id}>{restaurant.Name}</option>\n      }): \"\"\n    }\n    </select>\n    var ReservationTable = <table className=\"table table-striped table-dark\" id=\"reserveTable\">\n  <thead className=\"thead-light\">\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">First</th>\n      <th scope=\"col\">Last</th>\n      <th scope=\"col\">Handle</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th scope=\"row\">1</th>\n      <td>Mark</td>\n      <td>Otto</td>\n      <td>@mdo</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">2</th>\n      <td>Jacob</td>\n      <td>Thornton</td>\n      <td>@fat</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">3</th>\n      <td>Larry</td>\n      <td>the Bird</td>\n      <td>@twitter</td>\n    </tr>\n  </tbody>\n</table>\n\n    var Page = <React.Fragment>\n      <div className=\"row col-6\">\n        {RestDropDown}\n      </div>\n      <div className=\"row\">\n      <h4 className=\"form-title\">Reservation Table</h4>\n      </div>\n      <div className=\"row\">\n        {ReservationTable}\n      </div>\n    </React.Fragment>\n\n    var AdminDetails = <section id=\"admin\">\n    <div className=\"profile-details\" id=\"admin\">\n    <div className=\"row\">\n    <h3 className=\"form-title\">Admin Portal</h3>\n    </div>\n    {this.state.isLoading ? LoadButton : Page}\n    </div>\n    </section>\n\n    return (\n      <div className=\"App\">\n      { this.state.isLoggedOn ? AdminDetails : Login }\n      </div>\n\n    );\n  }\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}